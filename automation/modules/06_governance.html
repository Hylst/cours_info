<!-- MODULE 6: GOUVERNANCE & STANDARDS (XP PRO) -->
<section id="m6">
    <div class="container">
        <div class="sec-header">
            <div class="sec-num">06</div>
            <div>
                <h2 class="sec-title">Gouvernance & Standards</h2>
                <p class="sec-sub">Professionnaliser le Chaos</p>
            </div>
        </div>

        <div class="concept-box" style="margin-bottom:30px; border-left-color: #ff7675;">
            <strong>Le Sc√©nario Catastrophe :</strong><br>
            Le freelance part. Le workflow critique plante. Personne ne sait ce qu'il fait, il n'y a pas de
            documentation, et la cl√© API est sur le compte personnel Gmail de l'ancien stagiaire.
        </div>

        <!-- 6.1 NAMING CONVENTIONS (NEW) -->
        <h3 class="sec-title-small" style="color:#fff;">A. Conventions de Nommage (Naming)</h3>
        <p style="color:#b2bec3; font-size:0.9rem; margin-bottom:15px;">La premi√®re r√®gle de la maintenance : tout
            doit √™tre lisible sans ouvrir le code.</p>
        <div class="grid2">
            <div class="scenario-card">
                <h4>Workflows</h4>
                <p style="font-size:0.8rem; margin-bottom:5px;"><code>[ENV] - [DEPT] - [ACTION]</code></p>
                <ul class="clean-list" style="font-size:0.8rem; font-family:'JetBrains Mono', monospace;">
                    <li style="color:#55efc4;">PROD - SALES - Enrich Leads</li>
                    <li style="color:#ffeaa7;">DEV - MKT - Sync Newsletter</li>
                    <li style="color:#ff7675;">TEST - IT - Sandbox Stripe</li>
                </ul>
            </div>
            <div class="scenario-card">
                <h4>Nodes (N≈ìuds)</h4>
                <p style="font-size:0.8rem; margin-bottom:5px;"><code>[Verbe] [Objet]</code></p>
                <ul class="clean-list" style="font-size:0.8rem; font-family:'JetBrains Mono', monospace;">
                    <li>Create Airtable Record</li>
                    <li>Get User Email</li>
                    <li>Format Date</li>
                    <li><del style="color:#636e72;">HTTP Request 2</del> ‚ùå</li>
                </ul>
            </div>
        </div>

        <!-- 6.2 DOCUMENTATION TEMPLATE (NEW) -->
        <h3 class="sec-title-small" style="margin-top:40px; color:#fff;">B. La Documentation "Sticky Note"</h3>
        <div class="feature-grid">
            <div class="scenario-card" style="border-top: 3px solid #74b9ff;">
                <p style="font-size:0.85rem;">Dans n8n/Make, ajoutez une "Note" visible au d√©but du workflow avec ce
                    template :</p>
                <div class="code-block" style="margin-top:10px; font-size:0.75rem;">
                    # T√Ætre du Workflow
                    **Owner:** @Geoffroy
                    **Last Updated:** 2025-02-02
                    **But:** Synchroniser les nouveaux clients Stripe vers Airtable.

                    **Inputs:** Webhook Stripe (payment.succeeded)
                    **Outputs:** Ligne Airtable + Notif Slack
                    **D√©pendances:** API Stripe, Table 'Clients'
                </div>
            </div>
        </div>

        <!-- 6.3 SECURITY & GDPR checklist (NEW) -->
        <h3 class="sec-title-small" style="margin-top:40px; color:#fff;">C. Checklists de S√©curit√© & RGPD</h3>
        <div class="grid2">
            <!-- SECRETS -->
            <div class="scenario-card" style="border-color: #ff7675;">
                <h4>üîê Gestion des Secrets</h4>
                <ul class="clean-list" style="font-size:0.8rem;">
                    <li>‚ùå Jamais de cl√© API dans le JSON du workflow.</li>
                    <li>‚úÖ Utiliser le syst√®me "Credentials" de n8n.</li>
                    <li>‚úÖ Utiliser des Variables d'Environnement pour les URL/Tokens globaux.</li>
                    <li>‚úÖ Cr√©er des cl√©s API "Service Account" (pas li√©es √† une personne physique).</li>
                </ul>
            </div>

            <!-- GDPR -->
            <div class="scenario-card" style="border-color: #fdcb6e;">
                <h4>üá™üá∫ Checklist RGPD</h4>
                <ul class="clean-list" style="font-size:0.8rem;">
                    <li><strong>Minimisation :</strong> Ne transf√©rez que les champs n√©cessaires (pas tout le JSON
                        User).</li>
                    <li><strong>Droit √† l'oubli :</strong> Si un user est supprim√© en base, avez-vous un workflow
                        pour le supprimer de Mailchimp/Slack ?</li>
                    <li><strong>H√©bergement :</strong> Vos serveurs n8n/Supabase sont-ils en UE ?</li>
                </ul>
            </div>
        </div>

        <!-- 6.4 ERROR HANDLING PATTERNS (Enhanced) -->
        <h3 class="sec-title-small" style="margin-top:40px; color:#fff;">D. Patterns de Robustesse</h3>
        <div class="grid2">
            <div class="scenario-card">
                <h4>Warning Node</h4>
                <p style="font-size:0.8rem;">Si une branche critique √©choue (ex: Paiement), ne la laissez pas "juste"
                    planter.
                    Activez "Continue On Fail" et connectez un n≈ìud d'alerte.</p>
            </div>
            <div class="scenario-card">
                <h4>Idempotence</h4>
                <p style="font-size:0.8rem;">Si le workflow tourne 2 fois par erreur, que se passe-t-il ?
                    <br><em>Bonne pratique : "Upsert" (Update si existe, Create sinon) au lieu de "Create".</em>
                </p>
            </div>
        </div>
    </div>
</section>