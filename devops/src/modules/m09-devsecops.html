<!-- MODULE 09: DEVSECOPS -->
<section id="m9" style="background: radial-gradient(circle at center, rgba(255, 118, 117, 0.06) 0%, transparent 60%);">
    <div class="container">
        <div class="sec-header">
            <div class="sec-num" style="color:#ff7675; border-color:#ff7675;">09</div>
            <div>
                <h2 class="sec-title" style="color:#ff7675;">üîê DevSecOps</h2>
                <p class="sec-sub">Security Shift-Left & Automation</p>
            </div>
        </div>

        <div class="analogy-box" style="border-left-color:#ff7675;">
            <h4>üëÆ Analogie : Garde du Corps vs Police</h4>
            <p>S√©curit√© traditionnelle = <strong>Police</strong> (Intervient apr√®s le crime/d√©ploiement).<br>
                DevSecOps = <strong>Garde du Corps</strong> (Accompagne tout le trajet pour √©viter le probl√®me).</p>
        </div>

        <!-- Introduction Contextuelle -->
        <div class="module-intro">
            <h3>üìñ DevSecOps : La S√©curit√© "Shift-Left"</h3>
            <p>Le DevSecOps est l'int√©gration de la s√©curit√© <strong>tout au long</strong> du cycle de vie DevOps,
                et non plus comme une √©tape finale avant la prod. L'id√©e est de "shifter √† gauche" (plus t√¥t dans le
                pipeline) pour d√©tecter les failles au moment o√π elles co√ªtent le moins cher √† corriger.</p>
            <p>La s√©curit√© n'est plus la responsabilit√© d'une √©quipe isol√©e, mais une <strong>responsabilit√©
                    partag√©e</strong> entre Devs et Ops, automatis√©e via des outils dans la CI/CD.</p>
        </div>

        <!-- Knowledge Box -->
        <div class="knowledge-box" style="border-left-color:var(--kw)">
            <h4>üí° Le saviez-vous ? L'attaque SolarWinds (2020)</h4>
            <p>C'est l'un des plus grands piratages de l'histoire. Les hackers n'ont pas attaqu√© les serveurs des
                clients, mais le <strong>pipeline de build</strong> du logiciel Orion (SolarWinds). Ils ont inject√©
                un malware directement dans le code source officiel.</p>
            <p>Cela a prouv√© que la s√©curit√© du <strong>Pipeline</strong> est aussi importante que la s√©curit√© de
                l'<strong>Application</strong> elle-m√™me. C'est ce qu'on appelle la Supply Chain Security.</p>
        </div>


        <!-- SECURITY PIPELINE -->
        <h3 style="color:#fff; margin-top:30px; margin-bottom:15px;">üîÑ A. S√©curit√© dans le Pipeline</h3>
        <div class="git-flow">
            <div class="git-stage" style="background:#636e72;">
                <div class="stage-icon">üìù</div>
                <div class="stage-name">Code</div>
                <div style="font-size:0.65rem; color:rgba(255,255,255,0.7);">Pre-commit hooks</div>
            </div>
            <div class="git-arrow">‚Üí</div>
            <div class="git-stage" style="background:#ff7675;">
                <div class="stage-icon">üîç</div>
                <div class="stage-name">SAST</div>
                <div style="font-size:0.65rem; color:rgba(255,255,255,0.7);">SonarQube</div>
            </div>
            <div class="git-arrow">‚Üí</div>
            <div class="git-stage" style="background:#fdcb6e; color:#2d3436;">
                <div class="stage-icon">üì¶</div>
                <div class="stage-name">SCA</div>
                <div style="font-size:0.65rem; color:rgba(0,0,0,0.6);">Snyk</div>
            </div>
            <div class="git-arrow">‚Üí</div>
            <div class="git-stage" style="background:#74b9ff;">
                <div class="stage-icon">üê≥</div>
                <div class="stage-name">Image Scan</div>
                <div style="font-size:0.65rem; color:rgba(255,255,255,0.7);">Trivy</div>
            </div>
            <div class="git-arrow">‚Üí</div>
            <div class="git-stage" style="background:#a29bfe;">
                <div class="stage-icon">üöÄ</div>
                <div class="stage-name">DAST</div>
                <div style="font-size:0.65rem; color:rgba(255,255,255,0.7);">OWASP ZAP</div>
            </div>
        </div>

        <!-- TOOLS TABLE -->
        <h3 style="color:#fff; margin-top:30px; margin-bottom:15px;">üõ†Ô∏è B. Outils DevSecOps</h3>
        </tbody>
        </table>

        <!-- Comparison: SAST vs DAST -->
        <h3 style="color:#fff; margin-top:40px; margin-bottom:15px;">üìä SAST vs DAST : Lequel choisir ?</h3>
        <div class="comparison-container">
            <div class="comparison-table">
                <div class="comparison-col">
                    <h4>üîç SAST (Statique)</h4>
                    <ul>
                        <li><strong>Cible</strong> : Code source, manifests IaC.</li>
                        <li><strong>Timing</strong> : Tr√®s t√¥t (avant le build).</li>
                        <li><strong>Avantage</strong> : Trouve la ligne de code pr√©cise √† corriger.</li>
                        <li><strong>Limite</strong> : Ne voit pas les probl√®mes de runtime/config.</li>
                    </ul>
                </div>
                <div class="comparison-col winner">
                    <h4>üöÄ DAST (Dynamique)</h4>
                    <ul>
                        <li><strong>Cible</strong> : Application en cours d'ex√©cution.</li>
                        <li><strong>Timing</strong> : Tard (Staging/Prod).</li>
                        <li><strong>Avantage</strong> : Trouve les vraies failles exploitables (ex: SQLi).</li>
                        <li><strong>Limite</strong> : Bo√Æte noire, ne sait pas o√π est le probl√®me dans le code.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Case Study: Equifax -->
        <div class="case-study">
            <h4>üìä Cas d'√©tude : Equifax - L'oubli √† 1.4 milliard de dollars</h4>
            <div class="case-metrics">
                <div class="metric">
                    <span class="metric-value">147M</span>
                    <span class="metric-label">Dossiers personnels vol√©s</span>
                </div>
                <div class="metric">
                    <span class="metric-value">2 mois</span>
                    <span class="metric-label">D√©lai avant d√©tection</span>
                </div>
                <div class="metric">
                    <span class="metric-value">$1.4B</span>
                    <span class="metric-label">Co√ªt total du cleanup/amendes</span>
                </div>
            </div>
            <p><strong>Contexte</strong> : En 2017, Equifax subit l'une des plus grosses fuites de donn√©es de
                l'histoire. La cause ? Une vuln√©rabilit√© connue dans le framework <strong>Apache Struts</strong>.
            </p>
            <p><strong>Transformation</strong> :</p>
            <ol style="margin: 10px 0; padding-left: 25px; color: var(--text);">
                <li><strong>SCA missing</strong> : Equifax n'avait pas d'outil d'analyse de d√©pendances (SCA) pour
                    les pr√©venir qu'un patch de s√©curit√© √©tait disponible depuis des mois.</li>
                <li><strong>Patching manuel</strong> : Le processus de mise √† jour √©tait lent et manuel, laissant
                    les serveurs expos√©s.</li>
            </ol>
            <p><strong>R√©sultat</strong> : Cette catastrophe a popularis√© le terme DevSecOps. Aujourd'hui, un outil
                comme Snyk ou Dependabot aurait bloqu√© la CI/CD jusqu'√† ce que la version de Struts soit mise √†
                jour.</p>
        </div>

        <!-- Recall Box -->
        <div class="recall-box">
            <h4>üîÑ √Ä Retenir - DevSecOps Essentials</h4>
            <ul>
                <li><strong>Shift-Left</strong> : Plus t√¥t vous trouvez une faille, moins elle co√ªte cher.</li>
                <li><strong>Automate Everything</strong> : Un audit manuel une fois par an est inutile. Scannez √†
                    chaque commit.</li>
                <li><strong>Secret Management</strong> : Jamais de MDP ou Cl√©s en clair. Utilisez Vault ou
                    √©quivalent.</li>
                <li><strong>Software Bill of Materials (SBOM)</strong> : Sachez exactement ce qu'il y a dans vos
                    containers (inventaire des libs).</li>
            </ul>
        </div>

        <!-- SUPPLY CHAIN SECURITY -->
        <h3 style="color:#fff; margin-top:40px; margin-bottom:15px;">üîó C. Supply Chain Security</h3>
        <div class="module-intro">
            <p>L'attaque SolarWinds a prouv√© qu'un attaquant ne cible plus seulement votre code, mais aussi votre
                <strong>pipeline de build</strong> et vos <strong>d√©pendances</strong>. La Supply Chain Security
                consiste
                √† s√©curiser TOUT le processus de cr√©ation du logiciel.
            </p>
        </div>

        <div class="grid2" style="margin-top:25px;">
            <div class="ref-card" style="border-color:#ff7675;">
                <h4>üìã SBOM (Software Bill of Materials)</h4>
                <p style="margin-bottom:10px;">Un inventaire complet de tous les composants (d√©pendances, libraries,
                    versions)
                    contenus dans votre application.</p>
                <ul class="dense-list">
                    <li><strong>Format</strong> : CycloneDX, SPDX (standard ISO)</li>
                    <li><strong>G√©n√©ration</strong> : Syft, Trivy, Grype</li>
                    <li><strong>Utilit√©</strong> : D√©tecter rapidement si vous √™tes affect√© par une CVE (ex: Log4Shell)
                    </li>
                    <li><strong>R√©glementation</strong> : Exig√© par certains contrats gouvernementaux (USA)</li>
                </ul>
            </div>
            <div class="code">
                <div class="code-head"><span class="dot g"></span>G√©n√©rer un SBOM</div>
                <pre><span class="comment"># Avec Syft (Anchore)</span>
<span class="fn">syft</span> packages myimage:v1.0 -o cyclonedx-json > sbom.json

<span class="comment"># Avec Trivy</span>
<span class="fn">trivy</span> image --format cyclonedx myimage:v1.0 > sbom.cdx

<span class="comment"># V√©rifier si Log4j vuln√©rable dans l'SBOM</span>
<span class="fn">grype</span> sbom:sbom.json | <span class="fn">grep</span> log4j</pre>
            </div>
        </div>

        <div class="grid2" style="margin-top:20px;">
            <div class="ref-card">
                <h4>üèÖ SLSA Framework (Google)</h4>
                <p style="margin-bottom:10px;"><strong>Supply-chain Levels for Software Artifacts</strong> :
                    Un framework de maturit√© s√©curit√© pour builds reproductibles.</p>
                <ul class="dense-list">
                    <li><strong>Level 0</strong> : Pas de garantie de provenance</li>
                    <li><strong>Level 1</strong> : Build pipeline document√©</li>
                    <li><strong>Level 2</strong> : Build service h√©berg√© (GitHub Actions) avec audit trail</li>
                    <li><strong>Level 3</strong> : Builds reproductibles bit-for-bit + signatures cryptographiques</li>
                </ul>
            </div>
            <div class="ref-card" style="border-color:#ff7675;">
                <h4>üîè Sigstore & Cosign</h4>
                <p style="margin-bottom:10px;">Signer cryptographiquement les artefacts (images, binaires)
                    pour prouver leur authenticit√©.</p>
                <ul class="dense-list">
                    <li><strong>Cosign</strong> : Signe des images OCI (Docker)</li>
                    <li><strong>Fulcio</strong> : Autorit√© de certification √©ph√©m√®re</li>
                    <li><strong>Rekor</strong> : Ledger public immuable (blockchain-like)</li>
                    <li>Utilis√© par: Kubernetes, GitHub, npm</li>
                </ul>
            </div>
        </div>

        <div class="code" style="margin-top:20px;">
            <div class="code-head"><span class="dot r"></span>Signer & v√©rifier une image</div>
            <pre><span class="comment"># Signer une image Docker</span>
<span class="fn">cosign</span> sign --key cosign.key gcr.io/myapp:v1.0

<span class="comment"># V√©rifier la signature avant d√©ploiement</span>
<span class="fn">cosign</span> verify --key cosign.pub gcr.io/myapp:v1.0

<span class="comment"># Policy dans K8s : bloquer images non-sign√©es</span>
<span class="kw">apiVersion:</span> kyverno.io/v1
<span class="kw">kind:</span> ClusterPolicy
<span class="kw">metadata:</span>
  <span class="kw">name:</span> verify-image
<span class="kw">spec:</span>
  <span class="kw">validationFailureAction:</span> enforce
  <span class="kw">rules:</span>
  - <span class="kw">name:</span> check-signature
    <span class="kw">verifyImages:</span>
    - <span class="kw">imageReferences:</span>
      - <span class="str">"gcr.io/myapp:*"</span>
      <span class="kw">attestors:</span>
      - <span class="kw">entries:</span>
        - <span class="kw">keys:</span>
            <span class="kw">publicKeys:</span> |-
              -----BEGIN PUBLIC KEY-----
              ...</pre>
        </div>

        <!-- SECRETS MANAGEMENT -->
        <h3 style="color:#fff; margin-top:40px; margin-bottom:15px;">üîê D. Secrets Management</h3>
        <div class="info" style="border-left-color:#ff7675;">
            <strong>üö® Le probl√®me</strong> : Un secret (API key, password, token) commit√© sur GitHub est scann√© par des
            bots
            en <strong>quelques secondes</strong> et exploit√©. 82% des breaches impliquent des credentials vol√©es.
        </div>

        <table class="cmd-table" style="margin-top:20px;">
            <thead>
                <tr>
                    <th>Solution</th>
                    <th>Use Case</th>
                    <th>Chiffrement</th>
                    <th>Rotation Auto</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="vocab-term"
                            data-def="Coffre-fort centralis√© avec API. Secrets chiffr√©s au repos (AES-256) et en transit.">HashiCorp
                            Vault</span></td>
                    <td>Multi-cloud, entreprise</td>
                    <td style="color:#00b894;">‚úì AES-256</td>
                    <td style="color:#00b894;">‚úì Dynamic secrets</td>
                </tr>
                <tr>
                    <td>AWS Secrets Manager</td>
                    <td>AWS uniquement</td>
                    <td style="color:#00b894;">‚úì KMS</td>
                    <td style="color:#00b894;">‚úì RDS/Lambda</td>
                </tr>
                <tr>
                    <td>Sealed Secrets (K8s)</td>
                    <td>GitOps workflows</td>
                    <td style="color:#00b894;">‚úì Asym√©trique</td>
                    <td style="color:#ff7675;">‚úó Manuel</td>
                </tr>
                <tr>
                    <td>SOPS (Mozilla)</td>
                    <td>Fichiers config chiffr√©s</td>
                    <td style="color:#00b894;">‚úì GPG/KMS</td>
                    <td style="color:#ff7675;">‚úó Manuel</td>
                </tr>
                <tr>
                    <td>External Secrets Operator</td>
                    <td>Sync Vault ‚Üí K8s</td>
                    <td style="color:#00b894;">‚úì Source + K8s</td>
                    <td style="color:#00b894;">‚úì Polling</td>
                </tr>
            </tbody>
        </table>

        <div class="grid2" style="margin-top:20px;">
            <div class="code">
                <div class="code-head"><span class="dot g"></span>vault-setup.sh</div>
                <pre><span class="comment"># Init Vault (dev mode)</span>
<span class="fn">vault</span> server -dev

<span class="comment"># Cr√©er un secret</span>
<span class="fn">vault</span> kv put secret/myapp/db \
  username=<span class="str">"dbuser"</span> \
  password=<span class="str">"superSecret123"</span>

<span class="comment"># Dynamic secret: Cr√©er un user MySQL temporaire</span>
<span class="fn">vault</span> read database/creds/readonly
<span class="comment"># ‚Üí g√©n√®re password valide 1h puis auto-r√©voqu√©</span></pre>
            </div>
            <div class="code">
                <div class="code-head"><span class="dot r"></span>sealed-secret.yaml</div>
                <pre><span class="comment"># Chiffrer un Secret K8s pour le commiter dans Git</span>
<span class="fn">kubeseal</span> --format yaml < secret.yaml > sealed-secret.yaml

<span class="comment"># Dans sealed-secret.yaml (safe to commit):</span>
<span class="kw">apiVersion:</span> bitnami.com/v1alpha1
<span class="kw">kind:</span> SealedSecret
<span class="kw">metadata:</span>
  <span class="kw">name:</span> myapp-secret
<span class="kw">spec:</span>
  <span class="kw">encryptedData:</span>
    <span class="kw">password:</span> AgB7w8H3ks... <span class="comment"># Chiffr√©</span></pre>
            </div>
        </div>

        <div class="tip" style="margin-top:15px;">
            <strong>üîÑ Best Practice : Secret Rotation</strong> Les secrets doivent √™tre rot√©s r√©guli√®rement (30-90
            jours).
            Automatisez cela avec Vault ou External Secrets Operator. Un secret compromis qui ne change jamais = porte
            ouverte permanente.
        </div>

        <!-- ZERO TRUST -->
        <h3 style="color:#fff; margin-top:40px; margin-bottom:15px;">üõ°Ô∏è E. Zero Trust Architecture</h3>
        <div class="module-intro">
            <p>Le mod√®le traditionnel : <em>"Trust but verify"</em> (le r√©seau interne est s√ªr).<br>
                <strong>Zero Trust</strong> : <em>"Never trust, always verify"</em> (m√™me √† l'int√©rieur du r√©seau, tout
                doit √™tre authentifi√©/autoris√©).
            </p>
        </div>

        <div class="comparison-container">
            <div class="comparison-table">
                <div class="comparison-col">
                    <h4>üè∞ P√©rim√®tre Traditionnel</h4>
                    <ul>
                        <li><strong>D√©fense</strong> : Firewall externe fort, r√©seau interne "s√ªr".</li>
                        <li><strong>Acc√®s</strong> : VPN ‚Üí acc√®s total au r√©seau.</li>
                        <li><strong>Lat√©ral Movement</strong> : Facile une fois inside.</li>
                        <li><strong>Probl√®me</strong> : 1 breach = tout le r√©seau compromis.</li>
                    </ul>
                </div>
                <div class="comparison-col winner">
                    <h4>üîí Zero Trust</h4>
                    <ul>
                        <li><strong>D√©fense</strong> : Chaque service/utilisateur est une fronti√®re.</li>
                        <li><strong>Acc√®s</strong> : Identity-based, least privilege par d√©faut.</li>
                        <li><strong>Lat√©ral Movement</strong> : Impossible sans r√©auth.</li>
                        <li><strong>Avantage</strong> : Breach confin√©e √† un seul service.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="grid2" style="margin-top:20px;">
            <div class="ref-card">
                <h4>üîë BeyondCorp (Google)</h4>
                <p style="margin-bottom:10px;">Impl√©mentation Zero Trust chez Google. Acc√®s bas√© sur l'identit√© de
                    l'utilisateur
                    et l'√©tat du device, pas le r√©seau.</p>
                <ul class="dense-list">
                    <li>Aucun VPN corporate</li>
                    <li>Chaque requ√™te = auth + context-aware policy</li>
                    <li>Device inventory centralis√©</li>
                    <li>Acc√®s granulaire par service, pas par r√©seau</li>
                </ul>
            </div>
            <div class="ref-card" style="border-color:#ff7675;">
                <h4>üï∏Ô∏è Service Mesh (Istio/Linkerd)</h4>
                <p style="margin-bottom:10px;">Applique Zero Trust entre microservices K8s via mTLS automatique.</p>
                <ul class="dense-list">
                    <li><strong>mTLS</strong> : Chiffrement service-to-service</li>
                    <li><strong>Policy</strong> : "payment-svc peut appeler order-svc"</li>
                    <li><strong>Observability</strong> : Traces distribu√©es automatiques</li>
                    <li><strong>Micro-segmentation</strong> : Isolation par namespace</li>
                </ul>
            </div>
        </div>

        <!-- COMPLIANCE AS CODE -->
        <h3 style="color:#fff; margin-top:40px; margin-bottom:15px;">üìú F. Compliance as Code</h3>
        <div class="grid2">
            <div class="ref-card">
                <h4>‚öñÔ∏è Open Policy Agent (OPA)</h4>
                <p style="margin-bottom:10px;">Moteur de policy g√©n√©raliste. √âcrivez des r√®gles en Rego (DSL)
                    pour valider des configs K8s, Terraform, API calls.</p>
                <ul class="dense-list">
                    <li>Bloque pods privileged</li>
                    <li>Force resource limits CPU/RAM</li>
                    <li>V√©rifie que images viennent d'un registry approuv√©</li>
                    <li>CNCF graduated project</li>
                </ul>
            </div>
            <div class="code">
                <div class="code-head"><span class="dot g"></span>policy.rego (OPA)</div>
                <pre><span class="kw">package</span> kubernetes.admission

<span class="kw">deny</span>[msg] {
  <span class="comment"># Bloquer containers tournant en root</span>
  input.request.object.spec.containers[_].securityContext.runAsNonRoot <span class="kw">!=</span> <span class="num">true</span>
  msg := <span class="str">"Container must not run as root"</span>
}

<span class="kw">deny</span>[msg] {
  <span class="comment"># Images doivent venir de gcr.io uniquement</span>
  image := input.request.object.spec.containers[_].image
  <span class="kw">not</span> <span class="fn">startswith</span>(image, <span class="str">"gcr.io/"</span>)
  msg := <span class="fn">sprintf</span>(<span class="str">"Image %v not from approved registry"</span>, [image])
}</pre>
            </div>
        </div>

        <div class="ref-card" style="margin-top:20px; border-color:#74b9ff;">
            <h4>üî∞ Kyverno (K8s native)</h4>
            <p style="margin-bottom:10px;">Alternative √† OPA, policies √©crites en YAML (pas de DSL).
                Plus facile pour les d√©butants.</p>
            <ul class="dense-list">
                <li><strong>Validate</strong> : Bloquer ressources non-conformes</li>
                <li><strong>Mutate</strong> : Auto-ajouter labels/annotations</li>
                <li><strong>Generate</strong> : Cr√©er NetworkPolicies automatiquement</li>
                <li><strong>Verify</strong> : V√©rifier signatures d'images (Cosign)</li>
            </ul>
        </div>

        <!-- RUNTIME SECURITY -->
        <h3 style="color:#fff; margin-top:40px; margin-bottom:15px;">üö® G. Runtime Security</h3>
        <div class="module-intro">
            <p>SAST/DAST trouvent les failles AVANT la prod. Mais que se passe-t-il si un attaquant exploite
                une 0-day inconnue EN PRODUCTION ? C'est l√† qu'intervient la <strong>Runtime Security</strong>.</p>
        </div>

        <div class="grid2">
            <div class="ref-card" style="border-color:#ff7675;">
                <h4>ü¶Ö Falco (CNCF)</h4>
                <p style="margin-bottom:10px;">D√©tecteur d'intrusion pour containers. Surveille syscalls au niveau
                    kernel.</p>
                <ul class="dense-list">
                    <li><strong>Alerte</strong> : "Shell spawned in container" ‚Üí suspect</li>
                    <li><strong>Alerte</strong> : "File sensitive read (/etc/shadow)"</li>
                    <li><strong>Alerte</strong> : "Connexion r√©seau inattendue"</li>
                    <li>R√®gles customisables en YAML</li>
                </ul>
            </div>
            <div class="code">
                <div class="code-head"><span class="dot r"></span>falco-rule.yaml</div>
                <pre><span class="kw">- rule:</span> Shell in Container
  <span class="kw">desc:</span> Detecter un shell dans un container
  <span class="kw">condition:</span> >
    container.id <span class="kw">!=</span> host
    <span class="kw">and</span> proc.name = bash
  <span class="kw">output:</span> >
    Shell opened in container
    (user=%user.name container=%container.name 
     image=%container.image)
  <span class="kw">priority:</span> WARNING</pre>
            </div>
        </div>

        <div class="grid2" style="margin-top:20px;">
            <div>
                <h4 style="color:#ff7675; margin-bottom:15px;">üîí Pod Security Standards (K8s)</h4>
                <ul class="dense-list">
                    <li><strong>Privileged</strong> : Aucune restriction (dangereux)</li>
                    <li><strong>Baseline</strong> : Bloque known privilege escalations</li>
                    <li><strong>Restricted</strong> : Hardening maximal (runAsNonRoot, readOnlyRoot, drop ALL
                        capabilities)</li>
                </ul>
                <div class="code" style="margin-top:10px;">
                    <div class="code-head"><span class="dot g"></span>namespace-policy</div>
                    <pre><span class="kw">apiVersion:</span> v1
<span class="kw">kind:</span> Namespace
<span class="kw">metadata:</span>
  <span class="kw">name:</span> production
  <span class="kw">labels:</span>
    <span class="kw">pod-security.kubernetes.io/enforce:</span> restricted</pre>
                </div>
            </div>
            <div class="ref-card">
                <h4>üåê Network Policies</h4>
                <p style="margin-bottom:10px;">Firewall applicatif au niveau Pod. Par d√©faut, tout Pod peut parler √†
                    tout le monde.</p>
                <ul class="dense-list">
                    <li>Principe : Default deny, whitelist explicite</li>
                    <li>Exemple : "frontend peut ‚Üí backend:8080"</li>
                    <li>Exemple : "Aucun pod ne peut ‚Üí Internet sauf monitoring"</li>
                    <li>CNI required : Calico, Cilium, Weave</li>
                </ul>
            </div>
        </div>

        <!-- LOG4SHELL CASE STUDY -->
        <div class="case-study" style="margin-top:30px;">
            <h4>üìä Cas d'√©tude : Log4Shell (CVE-2021-44228) - La panique mondiale</h4>
            <div class="case-metrics">
                <div class="metric">
                    <span class="metric-value">10/10</span>
                    <span class="metric-label">CVSS Score (critique max)</span>
                </div>
                <div class="metric">
                    <span class="metric-value">72h</span>
                    <span class="metric-label">Pour patcher 80% des syst√®mes</span>
                </div>
                <div class="metric">
                    <span class="metric-value">Millions</span>
                    <span class="metric-label">Serveurs affect√©s mondialement</span>
                </div>
            </div>
            <p><strong>Contexte</strong> : En d√©cembre 2021, une RCE (Remote Code Execution) est d√©couverte dans Log4j
                2,
                la biblioth√®que Java de logging la plus utilis√©e au monde. Un simple string dans les logs = code
                arbitraire ex√©cut√©.</p>
            <p><strong>Impact DevSecOps</strong> :</p>
            <ol style="margin: 10px 0; padding-left: 25px; color: var(--text);">
                <li><strong>SBOM critique</strong> : Les entreprises avec SBOM ont pu identifier en 10 minutes quelles
                    apps √©taient affect√©es.
                    Les autres ont cherch√© pendant des semaines.</li>
                <li><strong>SCA en CI/CD</strong> : Snyk/Dependabot ont bloqu√© automatiquement les builds tant que Log4j
                    n'√©tait pas patch√©.</li>
                <li><strong>Signature d'images</strong> : Certaines entreprises ont temporairement bloqu√© le d√©ploiement
                    d'images non-v√©rifi√©es.</li>
            </ol>
            <p><strong>Le√ßon</strong> : Sans DevSecOps automation, cette crise aurait dur√© des mois. Les entreprises
                matures
                ont patch√© en 48-72h gr√¢ce √† des pipelines automatis√©s et des SBOM √† jour.</p>
        </div>

        <!-- CircleCI CASE STUDY -->
        <div class="case-study">
            <h4>üìä Cas d'√©tude : CircleCI Breach (2023) - Le vol de secrets √† grande √©chelle</h4>
            <div class="case-metrics">
                <div class="metric">
                    <span class="metric-value">1.6M</span>
                    <span class="metric-label">Secrets potentiellement expos√©s</span>
                </div>
                <div class="metric">
                    <span class="metric-value">36K</span>
                    <span class="metric-label">Organisations utilisatrices</span>
                </div>
                <div class="metric">
                    <span class="metric-value">30 jours</span>
                    <span class="metric-label">Dur√©e de l'infiltration</span>
                </div>
            </div>
            <p><strong>Contexte</strong> : Un attaquant a compromis un laptop d'employ√© CircleCI via malware,
                obtenant acc√®s √† la session de production et volant des secrets stock√©s (env vars, SSH keys, API
                tokens).</p>
            <p><strong>Lessons learned</strong> :</p>
            <ol style="margin: 10px 0; padding-left: 25px; color: var(--text);">
                <li><strong>Ne jamais stocker secrets en clair</strong> : M√™me dans un "CI/CD s√©curis√©". Utilisez Vault
                    avec injection runtime.</li>
                <li><strong>Rotation obligatoire</strong> : Secrets doivent expirer (TTL) et √™tre rot√©s r√©guli√®rement.
                </li>
                <li><strong>Least Privilege</strong> : Limitez les permissions des secrets (ex: un token GitHub ne
                    devrait pas avoir acc√®s √† tout l'org).</li>
            </ol>
            <p><strong>R√©sultat</strong> : CircleCI a demand√© √† TOUTES ses organisations de roter leurs secrets.
                Un rappel brutal que la s√©curit√© des secrets est critique.</p>
        </div>

        <!-- Recall Box -->
        <div class="recall-box">
            <h4>üîÑ √Ä Retenir - DevSecOps Essentials</h4>
            <ul>
                <li><strong>Shift-Left</strong> : Plus t√¥t vous trouvez une faille, moins elle co√ªte cher.</li>
                <li><strong>Automate Everything</strong> : Un audit manuel une fois par an est inutile. Scannez √†
                    chaque commit.</li>
                <li><strong>Secret Management</strong> : Jamais de MDP ou Cl√©s en clair. Utilisez Vault ou
                    √©quivalent.</li>
                <li><strong>Software Bill of Materials (SBOM)</strong> : Sachez exactement ce qu'il y a dans vos
                    containers (inventaire des libs).</li>
                <li><strong>Supply Chain Security</strong> : Signez vos artefacts (Cosign), suivez SLSA, g√©n√©rez des
                    SBOMs.</li>
                <li><strong>Zero Trust</strong> : Ne faites confiance √† rien, v√©rifiez tout (mTLS, identity-based
                    access).</li>
                <li><strong>Compliance as Code</strong> : Policies OPA/Kyverno pour bloquer configs dangereuses
                    automatiquement.</li>
                <li><strong>Runtime Security</strong> : Falco + Pod Security Standards pour d√©tecter intrusions en
                    production.</li>
            </ul>
        </div>


        <div class="grid2" style="margin-top:25px;">
            <div>
                <h4 style="color:#ff7675; margin-bottom:15px;">üõ°Ô∏è Container Security</h4>
                <ul class="dense-list">
                    <li><strong>Distroless</strong> : Images minimales (pas de shell)</li>
                    <li><strong>Non-root</strong> : <code>USER 1000</code> dans Dockerfile</li>
                    <li><strong>Read-only</strong> : <code>readOnlyRootFilesystem: true</code></li>
                    <li><strong>Scan Base Images</strong> : Trivy dans CI</li>
                </ul>
            </div>
            <div class="ref-card" style="border-color:#ff7675;">
                <h4 style="color:#ff7675;">‚ö†Ô∏è OWASP Top 10 (2024)</h4>
                <ol class="dense-list" style="padding-left:18px;">
                    <li>Broken Access Control</li>
                    <li>Cryptographic Failures</li>
                    <li>Injection (SQL, XSS)</li>
                    <li>Insecure Design</li>
                    <li>Security Misconfiguration</li>
                </ol>
                <p style="font-size:0.8rem; margin-top:8px; color:var(--muted);">Les 5 autres: SSRF, Vulnerable
                    Components, Auth Failures, Logging Failures, Security Testing</p>
            </div>
        </div>

        <div class="warning" style="margin-top:20px;">
            <strong>‚ö° Secrets Management</strong><br>
            Un <code>AWS_KEY</code> commit√© sur GitHub est pirat√© en <strong>3 secondes</strong>. Utilisez un
            coffre-fort (Vault, SealedSecrets) inject√© au runtime.
        </div>
    </div>
</section>