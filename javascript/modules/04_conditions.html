<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conditions - M√©mo JavaScript</title>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/prism.css">
    <style>
        .tf-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
            margin: 15px 0;
        }

        .tf-card {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 12px;
            text-align: center;
            border-radius: 8px;
            position: relative;
        }

        .tf-card.falsy {
            border-color: #f44336;
        }

        .tf-card.truthy {
            border-color: #4caf50;
        }

        .tf-val {
            font-family: 'JetBrains Mono', monospace;
            font-weight: bold;
            margin-top: 5px;
            font-size: 0.85rem;
        }

        .struct-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .struct-card {
            background: var(--card);
            padding: 18px;
            border-radius: 10px;
            border: 1px solid var(--border);
            transition: transform 0.2s;
        }

        .struct-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent);
        }

        .struct-title {
            color: var(--accent);
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.05rem;
        }

        .struct-use {
            background: rgba(255, 255, 255, 0.03);
            padding: 8px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 0.85rem;
            border-left: 3px solid var(--primary);
        }

        .playground {
            background: var(--bg2);
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .playground-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .pg-btn {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-weight: 500;
        }

        .pg-btn:hover {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
        }

        .pg-btn.active {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .decision-tree {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .dt-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 8px 0;
            flex-wrap: wrap;
        }

        .dt-q {
            background: var(--card);
            padding: 10px 15px;
            border-radius: 20px;
            border: 1px solid var(--accent);
            font-weight: 500;
            min-width: 200px;
        }

        .dt-arrow {
            color: var(--accent);
            font-size: 1.3rem;
        }

        .dt-a {
            font-family: 'JetBrains Mono';
            color: var(--primary);
            font-weight: bold;
            background: rgba(255, 255, 255, 0.05);
            padding: 8px 12px;
            border-radius: 6px;
        }

        .pitfall {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .pitfall-title {
            color: #f44336;
            font-weight: bold;
            margin-bottom: 8px;
        }
    </style>
</head>

<body>
    <main class="container">
        <section id="s4" style="border:none; padding-top:40px">
            <div class="sec-header">
                <div class="sec-num">04</div>
                <div>
                    <h2 class="sec-title">Structures Conditionnelles</h2>
                    <p class="sec-sub">Guide Complet : 10+ Patterns Modernes</p>
                </div>
            </div>

            <!-- TRUTHY/FALSY FOUNDATION -->
            <details open>
                <summary>üåó Fondation : Truthy vs Falsy</summary>
                <div class="details-content">
                    <p>En JS, <strong>6 valeurs</strong> sont Falsy. Tout le reste est Truthy.</p>
                    <div class="tf-grid">
                        <div class="tf-card falsy">
                            <div style="font-size:1.8rem">0Ô∏è‚É£</div>
                            <div class="tf-val">0</div>
                        </div>
                        <div class="tf-card falsy">
                            <div style="font-size:1.8rem">""</div>
                            <div class="tf-val">String vide</div>
                        </div>
                        <div class="tf-card falsy">
                            <div style="font-size:1.8rem">üëª</div>
                            <div class="tf-val">null</div>
                        </div>
                        <div class="tf-card falsy">
                            <div style="font-size:1.8rem">‚ùì</div>
                            <div class="tf-val">undefined</div>
                        </div>
                        <div class="tf-card falsy">
                            <div style="font-size:1.8rem">üö´</div>
                            <div class="tf-val">false</div>
                        </div>
                        <div class="tf-card falsy">
                            <div style="font-size:1.8rem">üî¢</div>
                            <div class="tf-val">NaN</div>
                        </div>
                        <div class="tf-card truthy">
                            <div style="font-size:1.8rem">üì¶</div>
                            <div class="tf-val">{}</div>
                        </div>
                        <div class="tf-card truthy">
                            <div style="font-size:1.8rem">üìú</div>
                            <div class="tf-val">[]</div>
                        </div>
                        <div class="tf-card truthy">
                            <div style="font-size:1.8rem">üìù</div>
                            <div class="tf-val">"0"</div>
                        </div>
                    </div>
                </div>
            </details>

            <!-- COMPREHENSIVE STRUCTURES -->
            <h3 style="margin-top:40px; border-left: 4px solid var(--primary); padding-left: 12px;">üèóÔ∏è Les 10
                Structures Conditionnelles</h3>

            <div class="struct-grid">
                <!-- 1. IF/ELSE -->
                <div class="struct-card">
                    <div class="struct-title"><span>1Ô∏è‚É£</span> If / Else (Classique)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">if (age >= 18) {
    console.log("Majeur");
} else if (age >= 13) {
    console.log("Ado");
} else {
    console.log("Enfant");
}</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Logique simple avec blocs de code.</div>
                </div>

                <!-- 2. TERNARY -->
                <div class="struct-card">
                    <div class="struct-title"><span>2Ô∏è‚É£</span> Ternaire (? :)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">const status = isOnline 
    ? "üü¢ En ligne" 
    : "üî¥ Hors ligne";

// ‚ùå √âviter imbrication
const x = a ? (b ? 1 : 2) : 3;</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Assignation conditionnelle simple (1
                        ligne).</div>
                </div>

                <!-- 3. SHORT-CIRCUIT && -->
                <div class="struct-card">
                    <div class="struct-title"><span>3Ô∏è‚É£</span> Short-Circuit (&&)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">// Ex√©cute si truthy
isLoggedIn && showDashboard();

// React pattern
{user && <Profile user={user} />}</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Ex√©cution conditionnelle concise (React,
                        Vue).</div>
                </div>

                <!-- 4. SHORT-CIRCUIT || -->
                <div class="struct-card">
                    <div class="struct-title"><span>4Ô∏è‚É£</span> Fallback (||)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">const name = userName || "Anonyme";

// ‚ö†Ô∏è Pi√®ge avec 0 et ""
const count = 0;
const val = count || 10; // 10 (Bug!)</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Valeur par d√©faut (attention aux 0/false).
                    </div>
                </div>

                <!-- 5. NULLISH COALESCING -->
                <div class="struct-card">
                    <div class="struct-title"><span>5Ô∏è‚É£</span> Nullish Coalescing (??)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">const speed = 0;
const v = speed ?? 100; // 0 ‚úÖ

// Ignore seulement null/undefined
const x = "" ?? "default"; // ""</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Valeur par d√©faut robuste (configs,
                        options).</div>
                </div>

                <!-- 6. OPTIONAL CHAINING -->
                <div class="struct-card">
                    <div class="struct-title"><span>6Ô∏è‚É£</span> Optional Chaining (?.)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">const city = user?.address?.city;

// Appel de fonction safe
user?.notify?.();

// Array safe
const first = arr?.[0];</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Acc√®s profond sans crash (APIs, donn√©es
                        externes).</div>
                </div>

                <!-- 7. SWITCH -->
                <div class="struct-card">
                    <div class="struct-title"><span>7Ô∏è‚É£</span> Switch (√ânum√©ration)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">switch(role) {
    case 'admin':
        perm = 'ALL';
        break;
    case 'guest':
        perm = 'READ';
        break;
    default:
        perm = 'NONE';
}</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Multiples cas d'√©galit√© stricte.</div>
                </div>

                <!-- 8. OBJECT LOOKUP -->
                <div class="struct-card">
                    <div class="struct-title"><span>8Ô∏è‚É£</span> Object Lookup (Strategy)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">const permissions = {
    admin: 'ALL',
    guest: 'READ'
};
const perm = permissions[role] 
    ?? 'NONE';</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Remplace switch. Plus propre, extensible
                        O(1).</div>
                </div>

                <!-- 9. GUARD CLAUSES -->
                <div class="struct-card">
                    <div class="struct-title"><span>9Ô∏è‚É£</span> Guard Clauses (Early Return)</div>
                    <pre style="margin:10px 0"><code class="language-javascript">function process(user) {
    if (!user) return;
    if (!user.active) return;
    if (!user.verified) return;
    
    // Happy path ici
    doWork(user);
}</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> √âviter le "else hell". Validation en d√©but
                        de fonction.</div>
                </div>

                <!-- 10. TRY/CATCH -->
                <div class="struct-card">
                    <div class="struct-title"><span>üîü</span> Try / Catch / Finally</div>
                    <pre style="margin:10px 0"><code class="language-javascript">try {
    const data = JSON.parse(str);
    processData(data);
} catch (error) {
    logError(error);
} finally {
    cleanup(); // Toujours
}</code></pre>
                    <div class="struct-use">‚úÖ <strong>Cas d'usage :</strong> Gestion d'erreurs (parsing, fetch, I/O).
                    </div>
                </div>
            </div>

            <!-- DETAILED EXPLANATIONS -->
            <h3 style="margin-top:50px; border-left: 4px solid var(--accent); padding-left: 12px;">üìö Explications
                D√©taill√©es des Op√©rateurs Logiques</h3>

            <!-- && OPERATOR -->
            <details style="margin-top:20px;">
                <summary
                    style="cursor:pointer; font-size:1.1rem; font-weight:600; padding:15px; background:var(--card); border-radius:8px; border:1px solid var(--border);">
                    1Ô∏è‚É£ L'op√©rateur && (ET logique) - "Si ceci est vrai, fais cela"</summary>
                <div class="details-content" style="padding:20px; background:var(--bg2); border-radius:0 0 8px 8px;">
                    <p><strong>Principe :</strong> L'op√©rateur <code>&&</code> √©value de gauche √† droite et s'arr√™te d√®s
                        qu'il trouve une valeur <em>falsy</em>. Si tout est <em>truthy</em>, il retourne la derni√®re
                        valeur.</p>

                    <div class="code-container" style="margin:15px 0;">
                        <div class="code-header-mac"><span class="dot red"></span><span class="dot yellow"></span><span
                                class="dot green"></span></div>
                        <pre><code class="language-javascript">// Si isLoggedIn est true, alors showDashboard() s'ex√©cute
isLoggedIn && showDashboard();

// C'est l'√©quivalent de :
if (isLoggedIn) {
    showDashboard();
}</code></pre>
                    </div>

                    <div
                        style="background:rgba(99,102,241,0.1); padding:15px; border-radius:8px; margin:15px 0; border-left:3px solid var(--primary);">
                        <strong>üí° En React on voit souvent √ßa :</strong>
                        <pre style="margin-top:10px;"><code class="language-javascript">{user && <p>Bonjour {user.name}</p>}
// Si user existe, on affiche le paragraphe</code></pre>
                    </div>

                    <div
                        style="background:rgba(168,85,247,0.1); padding:15px; border-radius:8px; margin:15px 0; border-left:3px solid var(--accent);">
                        <strong>üéØ Cas d'usage typiques :</strong>
                        <ul style="margin-top:10px; padding-left:20px;">
                            <li>Rendu conditionnel dans React/Vue</li>
                            <li>Ex√©cution de fonction uniquement si une condition est remplie</li>
                            <li>Cha√Ænage de validations</li>
                        </ul>
                    </div>
                </div>
            </details>

            <!-- || OPERATOR -->
            <details style="margin-top:15px;">
                <summary
                    style="cursor:pointer; font-size:1.1rem; font-weight:600; padding:15px; background:var(--card); border-radius:8px; border:1px solid var(--border);">
                    2Ô∏è‚É£ L'op√©rateur || (OU logique) - "Prends √ßa, sinon prends √ßa par d√©faut"</summary>
                <div class="details-content" style="padding:20px; background:var(--bg2); border-radius:0 0 8px 8px;">
                    <p><strong>Principe :</strong> L'op√©rateur <code>||</code> retourne la premi√®re valeur
                        <em>truthy</em> qu'il rencontre. Si tout est <em>falsy</em>, il retourne la derni√®re valeur.</p>

                    <div class="code-container" style="margin:15px 0;">
                        <div class="code-header-mac"><span class="dot red"></span><span class="dot yellow"></span><span
                                class="dot green"></span></div>
                        <pre><code class="language-javascript">const name = userName || "Anonyme";
// Si userName existe, on prend userName, SINON on prend "Anonyme"

// C'est comme √©crire :
const name = userName ? userName : "Anonyme";</code></pre>
                    </div>

                    <div class="pitfall" style="margin:15px 0;">
                        <div class="pitfall-title">‚ö†Ô∏è Le pi√®ge avec 0 et "" (cha√Æne vide)</div>
                        <pre><code class="language-javascript">const count = 0;
const val = count || 10; // R√©sultat: 10 üò±

// Pourquoi ? Parce que 0 est consid√©r√© comme "faux" en JavaScript
// Donc JavaScript pense : "0 c'est faux, je prends 10 √† la place"

const text = "";
const msg = text || "Aucun message"; // R√©sultat: "Aucun message"
// M√™me probl√®me : "" est falsy !</code></pre>
                    </div>

                    <div
                        style="background:rgba(76,175,80,0.1); padding:15px; border-radius:8px; margin:15px 0; border-left:3px solid #4caf50;">
                        <strong>‚úÖ Quand utiliser || :</strong>
                        <ul style="margin-top:10px; padding-left:20px;">
                            <li>Valeurs par d√©faut pour des cha√Ænes non-vides</li>
                            <li>Fallback sur des objets/tableaux</li>
                            <li>Quand 0, false, "" ne sont PAS des valeurs valides</li>
                        </ul>
                    </div>
                </div>
            </details>

            <!-- ?? OPERATOR -->
            <details style="margin-top:15px;">
                <summary
                    style="cursor:pointer; font-size:1.1rem; font-weight:600; padding:15px; background:var(--card); border-radius:8px; border:1px solid var(--border);">
                    3Ô∏è‚É£ L'op√©rateur ?? (Nullish Coalescing) - "La version safe"</summary>
                <div class="details-content" style="padding:20px; background:var(--bg2); border-radius:0 0 8px 8px;">
                    <div
                        style="background:linear-gradient(135deg, rgba(255,215,0,0.2), rgba(255,165,0,0.2)); padding:20px; border-radius:8px; margin-bottom:20px; border:2px solid #ffa500;">
                        <div style="font-size:1.2rem; font-weight:bold; color:#ffa500; margin-bottom:10px;">üèÜ La R√®gle
                            d'Or</div>
                        <p style="font-size:1.05rem; line-height:1.6;"><code>??</code> ne r√©agit qu'√† <code>null</code>
                            et <code>undefined</code>. <strong>Tout le reste est accept√© !</strong></p>
                    </div>

                    <div class="code-container" style="margin:15px 0;">
                        <div class="code-header-mac"><span class="dot red"></span><span class="dot yellow"></span><span
                                class="dot green"></span></div>
                        <pre><code class="language-javascript">const speed = 0;
const v = speed ?? 100; // R√©sultat: 0 ‚úÖ

// Pourquoi ? Parce que ?? ne r√©agit qu'√† null et undefined
// 0, "", false sont consid√©r√©s comme des valeurs valides !

const x = "" ?? "default"; // R√©sultat: "" ‚úÖ
const y = null ?? "default"; // R√©sultat: "default"
const z = undefined ?? "default"; // R√©sultat: "default"</code></pre>
                    </div>

                    <div style="background:var(--card); padding:20px; border-radius:8px; margin:20px 0;">
                        <h4 style="color:var(--accent); margin-bottom:15px;">üìä Comparaison || vs ??</h4>
                        <div class="code-container">
                            <div class="code-header-mac"><span class="dot red"></span><span
                                    class="dot yellow"></span><span class="dot green"></span></div>
                            <pre><code class="language-javascript">// Les valeurs "fausses" en JavaScript (falsy values) :
// false, 0, "", null, undefined, NaN

// AVEC || (l'ancienne m√©thode probl√©matique)
const avecOu = 0 || 10;        // 10 ‚ùå (perd notre 0)
const avecOu2 = "" || "rien";   // "rien" ‚ùå (perd la cha√Æne vide)
const avecOu3 = false || true;  // true ‚ùå (perd false)

// AVEC ?? (la bonne m√©thode)
const avecCoalesce = 0 ?? 10;        // 0 ‚úÖ (garde notre 0)
const avecCoalesce2 = "" ?? "rien";   // "" ‚úÖ (garde la cha√Æne vide)
const avecCoalesce3 = false ?? true;  // false ‚úÖ (garde false)
const avecCoalesce4 = null ?? "default";  // "default" ‚úÖ
const avecCoalesce5 = undefined ?? "default";  // "default" ‚úÖ</code></pre>
                        </div>
                    </div>

                    <div
                        style="background:rgba(76,175,80,0.1); padding:15px; border-radius:8px; margin:15px 0; border-left:3px solid #4caf50;">
                        <strong>‚úÖ Cas d'usage parfaits pour ?? :</strong>
                        <ul style="margin-top:10px; padding-left:20px;">
                            <li>Configuration avec des valeurs num√©riques (timeout: 0 est valide)</li>
                            <li>Flags bool√©ens (false est une valeur intentionnelle)</li>
                            <li>Cha√Ænes vides accept√©es ("" peut √™tre un choix valide)</li>
                            <li>APIs qui retournent null/undefined pour "pas de donn√©es"</li>
                        </ul>
                    </div>
                </div>
            </details>

            <!-- ?. OPERATOR -->
            <details style="margin-top:15px;">
                <summary
                    style="cursor:pointer; font-size:1.1rem; font-weight:600; padding:15px; background:var(--card); border-radius:8px; border:1px solid var(--border);">
                    4Ô∏è‚É£ L'op√©rateur ?. (Optional Chaining) - "Pour √©viter les erreurs"</summary>
                <div class="details-content" style="padding:20px; background:var(--bg2); border-radius:0 0 8px 8px;">
                    <p><strong>Principe :</strong> L'op√©rateur <code>?.</code> permet d'acc√©der √† des propri√©t√©s
                        imbriqu√©es sans risquer une erreur si une propri√©t√© interm√©diaire est <code>null</code> ou
                        <code>undefined</code>.</p>

                    <div class="code-container" style="margin:15px 0;">
                        <div class="code-header-mac"><span class="dot red"></span><span class="dot yellow"></span><span
                                class="dot green"></span></div>
                        <pre><code class="language-javascript">// Sans ?. - La mani√®re dangereuse ‚ö†Ô∏è
if (user && user.address && user.address.city) {
    console.log(user.address.city);
}

// Avec ?. - La mani√®re safe ‚úÖ
const city = user?.address?.city; 
// Si user ou address n'existe pas ‚Üí city = undefined (pas d'erreur !)</code></pre>
                    </div>

                    <div style="background:var(--card); padding:20px; border-radius:8px; margin:20px 0;">
                        <h4 style="color:var(--accent); margin-bottom:15px;">üéØ Trois utilisations de ?.</h4>
                        <div class="code-container">
                            <div class="code-header-mac"><span class="dot red"></span><span
                                    class="dot yellow"></span><span class="dot green"></span></div>
                            <pre><code class="language-javascript">// 1. Propri√©t√©s d'objets
const city = user?.address?.city;

// 2. Appel de fonction qui existe peut-√™tre pas
user?.notify?.(); // Appelle notify() seulement si elle existe
obj.method?.();   // Safe m√™me si method n'existe pas

// 3. Acc√®s aux tableaux
const first = arr?.[0];     // Retourne undefined si arr n'existe pas
const item = list?.[index]; // Safe m√™me si list est null</code></pre>
                        </div>
                    </div>

                    <div
                        style="background:rgba(76,175,80,0.1); padding:15px; border-radius:8px; margin:15px 0; border-left:3px solid #4caf50;">
                        <strong>‚úÖ Quand utiliser ?. :</strong>
                        <ul style="margin-top:10px; padding-left:20px;">
                            <li>Donn√©es venant d'APIs externes (structure incertaine)</li>
                            <li>Objets de configuration optionnels</li>
                            <li>Callbacks qui peuvent ne pas √™tre d√©finis</li>
                            <li>Acc√®s √† des propri√©t√©s profondes dans des objets complexes</li>
                        </ul>
                    </div>

                    <div class="pitfall" style="margin:15px 0;">
                        <div class="pitfall-title">‚ö†Ô∏è Attention : ?. ne remplace pas la validation</div>
                        <pre><code class="language-javascript">// ‚ùå Mauvais : masque un vrai probl√®me
const result = data?.items?.map(x => x.value);
// Si data.items n'existe pas, result = undefined silencieusement

// ‚úÖ Mieux : validation explicite quand c'est critique
if (!data?.items) {
    throw new Error("Items manquants dans la r√©ponse API");
}
const result = data.items.map(x => x.value);</code></pre>
                    </div>
                </div>
            </details>

            <!-- SUMMARY TABLE -->
            <div
                style="background:linear-gradient(135deg, rgba(99,102,241,0.1), rgba(168,85,247,0.1)); padding:25px; border-radius:12px; margin-top:30px;">
                <h4 style="color:var(--accent); margin-bottom:20px; font-size:1.2rem;">üìã R√©sum√© des Op√©rateurs Logiques
                </h4>
                <div style="display:grid; gap:15px;">
                    <div
                        style="background:var(--card); padding:15px; border-radius:8px; border-left:4px solid var(--primary);">
                        <strong style="color:var(--primary); font-size:1.1rem;">&&</strong> : "Si ceci est vrai, fais
                        cela"
                        <div style="margin-top:8px; opacity:0.9;">Retourne la premi√®re valeur falsy, ou la derni√®re si
                            tout est truthy</div>
                    </div>
                    <div
                        style="background:var(--card); padding:15px; border-radius:8px; border-left:4px solid #ffa500;">
                        <strong style="color:#ffa500; font-size:1.1rem;">||</strong> : "Prends √ßa, sinon prends √ßa par
                        d√©faut" (mais attention √† 0 et "")
                        <div style="margin-top:8px; opacity:0.9;">Retourne la premi√®re valeur truthy, ou la derni√®re si
                            tout est falsy</div>
                    </div>
                    <div
                        style="background:var(--card); padding:15px; border-radius:8px; border-left:4px solid #4caf50;">
                        <strong style="color:#4caf50; font-size:1.1rem;">??</strong> : "Prends √ßa, sinon prends √ßa par
                        d√©faut" (sauf si c'est null/undefined)
                        <div style="margin-top:8px; opacity:0.9;">Ne r√©agit QU'√Ä null et undefined. Accepte 0, false, ""
                        </div>
                    </div>
                    <div
                        style="background:var(--card); padding:15px; border-radius:8px; border-left:4px solid var(--accent);">
                        <strong style="color:var(--accent); font-size:1.1rem;">?.</strong> : "Acc√®de √† cette propri√©t√©
                        si elle existe, sinon undefined"
                        <div style="margin-top:8px; opacity:0.9;">√âvite les erreurs lors de l'acc√®s √† des propri√©t√©s
                            profondes</div>
                    </div>
                </div>
            </div>

            <!-- DECISION TREE -->
            <h3 style="margin-top:40px;">üß≠ Arbre de D√©cision : Quelle Structure Choisir ?</h3>
            <div class="decision-tree">
                <div class="dt-row">
                    <div class="dt-q">Assignation simple A ou B ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">condition ? A : B</div>
                </div>
                <div class="dt-row">
                    <div class="dt-q">Ex√©cuter si condition vraie ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">cond && action()</div>
                </div>
                <div class="dt-row">
                    <div class="dt-q">Valeur par d√©faut (0 accept√©) ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">val ?? default</div>
                </div>
                <div class="dt-row">
                    <div class="dt-q">Acc√®s objet profond safe ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">obj?.prop?.sub</div>
                </div>
                <div class="dt-row">
                    <div class="dt-q">Multiples validations ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">Guard Clauses (return)</div>
                </div>
                <div class="dt-row">
                    <div class="dt-q">√ânum√©ration (5+ cas) ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">Object Lookup</div>
                </div>
                <div class="dt-row">
                    <div class="dt-q">Code risqu√© (parsing, I/O) ?</div>
                    <div class="dt-arrow">‚Üí</div>
                    <div class="dt-a">try / catch</div>
                </div>
            </div>

            <!-- PITFALLS -->
            <h3 style="margin-top:40px;">‚ö†Ô∏è Pi√®ges Courants</h3>
            <div class="pitfall">
                <div class="pitfall-title">1. Oublier le break dans switch</div>
                <pre><code class="language-javascript">switch(x) {
    case 1: console.log("Un"); // ‚ö†Ô∏è Pas de break
    case 2: console.log("Deux"); break;
}
// x=1 affiche "Un" ET "Deux" (fall-through)</code></pre>
            </div>

            <div class="pitfall">
                <div class="pitfall-title">2. Confondre || et ??</div>
                <pre><code class="language-javascript">const config = { timeout: 0 };
const t1 = config.timeout || 5000; // 5000 ‚ùå (0 est falsy)
const t2 = config.timeout ?? 5000; // 0 ‚úÖ</code></pre>
            </div>

            <div class="pitfall">
                <div class="pitfall-title">3. Ternaire imbriqu√© illisible</div>
                <pre><code class="language-javascript">// ‚ùå Cauchemar
const x = a ? (b ? (c ? 1 : 2) : 3) : 4;

// ‚úÖ Utilisez if/else ou Object Lookup</code></pre>
            </div>

            <!-- INTERACTIVE PLAYGROUND -->
            <div class="playground">
                <h3 style="margin-top:0; color:var(--accent)">üéÆ Playground Interactif</h3>
                <p style="opacity:0.8; margin-bottom:20px">Testez les diff√©rentes structures avec vos propres valeurs.
                </p>

                <div class="playground-controls">
                    <div class="pg-btn" onclick="testPattern('ternary')">Ternaire</div>
                    <div class="pg-btn" onclick="testPattern('shortcircuit')">Short-Circuit</div>
                    <div class="pg-btn" onclick="testPattern('nullish')">Nullish (??)</div>
                    <div class="pg-btn" onclick="testPattern('optional')">Optional (?. )</div>
                    <div class="pg-btn" onclick="testPattern('guard')">Guard Clause</div>
                    <div class="pg-btn" onclick="testPattern('lookup')">Object Lookup</div>
                </div>

                <div style="display:flex; gap:10px; margin-bottom:15px; flex-wrap:wrap">
                    <input type="text" id="pg-input" class="demo-input"
                        placeholder="Valeur de test (ex: 0, null, 'hello')" style="flex:1; min-width:200px" value="0">
                    <button class="demo-btn" onclick="runPlayground()">Ex√©cuter</button>
                </div>

                <div id="pg-output"
                    style="background:var(--bg); padding:20px; border-radius:8px; min-height:100px; font-family:'JetBrains Mono'; font-size:0.9rem">
                    <div style="opacity:0.5; text-align:center">S√©lectionnez un pattern et cliquez sur Ex√©cuter</div>
                </div>
            </div>

            <div style="margin-top:40px; display:flex; gap:10px">
                <a href="03_operators.html" class="demo-btn" style="text-decoration:none; background:var(--bg2)">‚Üê
                    Op√©rateurs</a>
                <a href="05_loops.html" class="demo-btn" style="text-decoration:none">Suivant: Boucles ‚Üí</a>
            </div>
        </section>
    </main>

    <script src="../assets/js/prism.js"></script>
    <script src="../assets/js/layout.js"></script>
    <script src="../assets/js/modules/04_conditions.js"></script>
</body>

</html>