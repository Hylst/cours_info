<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - M√©mo React.js</title>
    <meta name="description" content="Gestion des √©v√©nements en React : SyntheticEvent, onClick, onSubmit.">
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/quiz-style.css">
    <link rel="stylesheet" href="../style.css">
    <script src="../js/nav.js" defer></script>
    <script src="../script.js" defer></script>
</head>

<body>
    <header></header>
    <div class="main-layout">
        <aside id="sidebar-container"></aside>
        <main>
            <section id="s6" class="module-content">
                <div class="container">
                    <div class="sec-header">
                        <div class="sec-num">06</div>
                        <div>
                            <h2 class="sec-title">Events</h2>
                            <p class="sec-sub">onClick, onSubmit...</p>
                        </div>
                    </div>

                    <details>
                        <summary>üí° Synthetic Events</summary>
                        <div class="details-content">
                            <p>React n'utilise pas directement les √©v√©nements natifs du navigateur. Il utilise une
                                couche
                                d'abstraction appel√©e <strong>SyntheticEvent</strong>.</p>
                            <p>Cela garantit que votre gestion des √©v√©nements fonctionne de mani√®re identique sur tous
                                les
                                navigateurs (IE, Chrome, Firefox). Pour vous, c'est transparent, vous utilisez
                                <code>e.preventDefault()</code> comme d'habitude.
                            </p>
                        </div>
                    </details>

                    <div class="code">
                        <div class="code-head"><span class="dot r"></span><span class="dot y"></span><span
                                class="dot g"></span>Synthetic Events</div>
                        <pre><span class="c">// CamelCase obligatoire (onClick, pas onclick)</span>
<span class="kw">function</span> <span class="fn">Button</span>() {
    <span class="kw">const</span> <span class="fn">handleClick</span> = (<span class="var">e</span>) => {
        <span class="var">e</span>.<span class="fn">preventDefault</span>();
        <span class="fn">alert</span>(<span class="str">"Click!"</span>);
    };

    <span class="kw">return</span> (
        <span class="tag">&lt;a</span> <span class="attr">href</span>=<span class="str">"#"</span> <span class="attr">onClick</span>={ <span class="fn">handleClick</span> }<span class="tag">&gt;</span>
            Clique-moi
        <span class="tag">&lt;/a&gt;</span>
    );
}</pre>
                    </div>

                    <div class="code">
                        <div class="code-head"><span class="dot r"></span><span class="dot y"></span><span
                                class="dot g"></span>Passer des arguments</div>
                        <pre><span class="c">// ‚ùå Incorrect (Ex√©cut√© imm√©diatement au rendu)</span>
<span class="tag">&lt;button</span> <span class="attr">onClick</span>={ <span class="fn">delete</span>(<span class="var">id</span>) }<span class="tag">&gt;</span>Supprimer<span class="tag">&lt;/button&gt;</span>

<span class="c">// ‚úÖ Correct (Arrow Function Wrapper)</span>
<span class="tag">&lt;button</span> <span class="attr">onClick</span>={ () => <span class="fn">delete</span>(<span class="var">id</span>) }<span class="tag">&gt;</span>Supprimer<span class="tag">&lt;/button&gt;</span></pre>
                    </div>

                    <div class="grid2">
                        <div class="code">
                            <div class="code-head"><span class="dot r"></span><span class="dot y"></span><span
                                    class="dot g"></span>Propagation (Bubbling)</div>
                            <pre><span class="c">// Arr√™ter la propagation vers les parents</span>
<span class="kw">const</span> <span class="fn">onClick</span> = (<span class="var">e</span>) => {
    <span class="var">e</span>.<span class="fn">stopPropagation</span>();
    <span class="fn">activate</span>();
};</pre>
                        </div>
                        <div class="warning">
                            <strong>‚ö° Performance</strong>
                            <p>Utiliser des fonctions fl√©ch√©es en ligne <code>onClick={() => ...}</code> cr√©e une
                                nouvelle fonction √† chaque rendu.</p>
                            <p>G√©n√©ralement n√©gligeable, mais √† √©viter dans les grosses listes ou directives de
                                performance (utilisez <code>useCallback</code>).</p>
                        </div>
                    </div>

                    <div class="demo">
                        <div class="demo-title">D√©mo Events</div>
                        <button class="demo-btn" onclick="demoEventClick(event)">Cliquez moi !</button>
                        <div id="demo-event-output" class="demo-output" style="margin-top:12px">En attente...</div>
                    </div>


                    <div class="grid2" style="margin-top:20px;">
                        <div class="ref-card" style="background:var(--bg2); border-left:4px solid var(--blue);">
                            <h4>ü´ß Analogie : Les Bulles (Bubbling)</h4>
                            <p style="font-size:0.9rem; margin-top:10px;">
                                Quand vous cliquez sur un bouton, l'√©v√©nement na√Æt sur le bouton, puis remonte (comme
                                une bulle d'air) vers le parent, puis le grand-parent, jusqu'√† <code>window</code>.
                                <br><br>
                                C'est pour √ßa qu'un <code>onClick</code> sur une <code>div</code> parent capture aussi
                                les clics de ses enfants !
                            </p>
                        </div>
                        <div class="code">
                            <div class="code-head"><span class="dot r"></span><span class="dot y"></span><span
                                    class="dot g"></span>Advanced : Delegation (Interne)</div>
                            <pre style="font-size:0.8rem; line-height:1.4"><span class="c">// React n'attache pas 1000 listeners !</span>
<span class="c">// Il attache UN SEUL listener sur la racine (root).</span>
<span class="c">// Quand vous cliquez, React regarde la cible et appelle votre fonction.</span>
<span class="c">// => Gain de m√©moire √©norme.</span></pre>
                        </div>
                    </div>

                    <div class="code">
                        <div class="code-head"><span class="dot r"></span><span class="dot y"></span><span
                                class="dot g"></span>Pattern : Debouncing (Performance)</div>
                        <pre><span class="c">// √âviter d'appeler une API √† chaque frappe de clavier</span>
<span class="kw">function</span> <span class="fn">Search</span>() {
    <span class="kw">const</span> <span class="fn">handleChange</span> = (<span class="var">e</span>) => {
        <span class="c">// On efface le timer pr√©c√©dent</span>
        <span class="fn">clearTimeout</span>(<span class="fn">window</span>.<span class="var">timer</span>);
        
        <span class="c">// On attend 500ms avant de valider</span>
        <span class="fn">window</span>.<span class="var">timer</span> = <span class="fn">setTimeout</span>(() => {
            <span class="fn">fetchResults</span>(<span class="var">e</span>.<span class="prop">target</span>.<span class="prop">value</span>);
        }, <span class="num">500</span>);
    };
    
    <span class="kw">return</span> <span class="tag">&lt;input</span> <span class="attr">onChange</span>={ <span class="fn">handleChange</span> } <span class="tag">/&gt;</span>;
}</pre>
                    </div>

                    <div class="nav-buttons">
                        <a href="05_effect.html" class="btn-prev">‚Üê Effect</a>
                        <a href="07_lists.html" class="btn-next">Suivant : Lists ‚Üí</a>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>

</html>